{% extends 'main/base.html' %}
{% load static %}
{% block title %}Blog detail{% endblock %}
{% block content %}
<section class="row home m-4 p-4">
    <h1 class="text-center">Detail blog</h1>
    <div class="row ">
        <div class="col">
        <div class="d-flex flex-column gap-2">
        <h2>Title: {{ blog.title }}</h2>
        <img src="{{blog.image.url}}" height="200px" width="250"/>
        <h4>Content: <br>{{ blog.content }}</h4>
        <h4>is published: {{ blog.is_published }}</h4>
        <h4>published at: {{ blog.published_at }}</h4>
        <h4>category: {{blog.category}}</h4>
        <div class="row">
        <div class="dropdown">
            <button class="btn btn-primary dropdown-toggle col-3" type="button" data-bs-toggle="dropdown" aria-expanded="false">Edit</button>
            <ul class="dropdown-menu">
              <li><a class="dropdown-item" href="{% url 'Blog:update_blog' blog.id %}">Update</a></li>
              <li><a class="dropdown-item" href="{% url 'Blog:delete_blog' blog.id %}">Delete</a></li>
            </ul>
          </div>
          <a href="{% url 'Blog:read_blog'%}"><button type="button" class="btn btn-primary col-3 mt-3">Return to all blogs</button></a>
        </div>
      </div>
        </div>
    </div>
    <hr class="mt-3">
    <section class="row">
      <h2>Reviews:</h2>
        <div class="col">
          <div class="d-flex flex-column gap-2">
            {% for comment in comments %}
            <div class="d-flex flex-column gap-2 border border-primary border-3 p-3">
              <h3 >{{ comment.name }}</h3>
              <h6 class="text-muted">{{ comment.date }}</h6>
              <p>{{ comment.content }}</p>
            </div>
            {% endfor %}
          </div>
        </div>
        
    </section>
    <h2>Add reviews</h2>
    <form action="{% url 'Blog:blog_detail' blog.id %}" method="POST">
      {% csrf_token %}
      <label>name:</label>
      <input class="form-control" type="text" name="name"/>
          <label>rating?</label>
          <select name="rating" class="form-select">
              <option value="1">1</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5</option>
          </select>
      <label>Content:</label>
      <textarea class="form-control" name="content"></textarea>
      <input class="btn btn-primary mt-4" type="submit" value="Add comment" />

  </form>
</section>
{% endblock %}